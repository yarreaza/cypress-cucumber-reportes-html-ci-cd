name: Cypress Tests
on: [push]
jobs:
  pro:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2.3.4
         
      - name: Cypress.io
        uses: cypress-io/github-action@v6.5.0
        
      - name: Install Dependencies
        run: npm install
        
      - name: Cypress run      
        uses: cypress-io/github-action@v6
        with:
         run: npm run ui-regression

      - name: Set output
        id: results
        run: echo "artifactPath=tests/reports/cucumber" >> $GITHUB_OUTPUT
                
      - uses: actions/upload-artifact@v3
        with:
          run: node cucumber-html-report.js
          path: ${{ steps.results.outputs.artifactPath }}
        

   
          
